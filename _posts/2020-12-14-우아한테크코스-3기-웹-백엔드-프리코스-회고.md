---
title: "우아한테크코스 3기 웹 백엔드 프리코스 회고"
date: 2020-12-14 21:35:38
categories:
    - Etc
tags:
    - 개발자
    - 우아한테크코스
    - 우테코
    - 프리코스
    - 우아한형제들
toc: true
toc_sticky: true
toc_label: "우아한테크코스 3기 웹 백엔드 프리코스 회고"
---

![woo](https://woowabros.github.io/img/2020-10-06/techcourse_poster_3nd.jpg){: .align-center}

2020년 12월 15일 화요일을 기준으로 우아한 테크코스 3기 프리코스가 종료되었다.  
우아한 테크코스 지원 과정은 [우아한테크코스 3기 지원 후기](https://hyeon9mak.github.io/etc/우아한테크코스3기-지원후기/) 포스트에 작성해두었다!  
이번 포스트는 프리코스를 진행하는 과정 동안 공부했던 방법, 배운 내용 등을 정리해보고자 한다.

<br>

## 1주차 미션 - 숫자야구게임 ⚾
```
숫자를 입력해주세요 : 123
1볼 1스트라이크
숫자를 입력해주세요 : 145
1볼
숫자를 입력해주세요 : 671
2볼
숫자를 입력해주세요 : 216
1스트라이크
숫자를 입력해주세요 : 713
3스트라이크
3개의 숫자를 모두 맞히셨습니다! 게임 종료
게임을 새로 시작하려면 1, 종료하려면 2를 입력하세요.
1
숫자를 입력해주세요 : 123
1볼 1스트라이크
… 
```

첫 미션은 숫자야구게임으로 시작되었다.

### 😅 시작은 창대하나...

기능 요구사항 자체는 간단했지만, **프로그래밍 요구사항을 계속 의식해야 한다는 점**과 **이펙티브 자바를 읽으며 공부했던 내용을 
적용해보자는 욕심** 때문에 미션이 쉽게 느껴지지 않았다. 또한 정작 자바 언어 자체의 이해가 떨어지다 보니 
이펙티브 자바 설계 패턴 적용은 커녕 전체적인 클래스 설계를 구상하는데에만 하루가 지나갔다.

<br>

### 🤔 TDD 라도 적용해보자.
다음 날, 설계 패턴을 포기하고 그 좋다는 TDD 라도 적용해보자는 생각에 테스트 코드부터 작성을 시작했다.  
미션에서 기본으로 제공된 클래스를 테스트 해보면서 JUnit 테스트 방법을 익힌 후 
곧이어 사용자의 입력 값에 대한 예외처리 테스트 코드와 Ball 객체 관련 테스트 코드를 작성했는데,
아직 도메인이 제대로 구현되기 전이라 테스트 코드가 실제 도메인 구현급으로 길어져야하는 상황이 발생했다.
TDD 라도 적용 해보고자 했지만 *‘이렇게 하는게 맞나? 먼저 구현하고 테스트하는게 나은거같은데?’* 라는 생각이 들어 
도메인을 먼저 구현한 후 테스트를 진행했다. 결국 TDD를 지키지 못한 것이다.

<br>

### 😆 메소드 쪼개기 너무 재밌다!
설계 패턴과 TDD 모두 흐지부지 되자 이대로는 안되겠다 싶어 이펙티브 자바 책을 덮은 후 프로그래밍 요구사항에만 집중해서 미션을 진행했다. 
다행히 구현 단계 동안은 미션에 푹 빠져들 수 있었다.  
구현 단계에서 **"함수(또는 메소드)가 한 가지 일만 하도록 최대한 작게 만들어라."** 에 가장 신경을 곤두 세웠다. 
메소드를 쪼개면 쪼갤수록 들여쓰기(indent)가 자연스레 적게 사용되고, 프로그램의 전체 흐름을 관리하는 클래스에서
메소드 이름만으로 메소드의 동작을 예측할 수 있다는 점이 너무 신기하고 재밌어서 계속 계속 쪼갰다. 
그러자, 메소드 네이밍과 MVC 관계가 조금씩 눈에 보이기 시작했다.

<br>

### 🤔 boolean 타입도 아닌데 is 라고 네이밍 해도 괜찮나?
처음엔 단순히 메소드 동작에 의한 결과를 예측 할 수 있는 네이밍만 고려 했다. 
그러자 아래와 같은 상황이 발생했다.
```java
private void isWooWa(){ ... }           // 그 놈이 그 놈인걸?
private boolean isTechCourse(){ ... }
```
구현과정에서 is 네이밍을 가진 메소드를 if 키워드 내부에 사용하려 했으나, 해당 메소드의 반환 타입이 void 형이라 에러가 발생하는 사건이 있었다.
내가 모든 메소드를 기억하고 있다면 문제가 없었겠지만, **메소드 동작을 잊어버린 경우 메소드를 이름에 의존해야 하는 상황이 존재**한다는 걸 깨닫게 되었다.

> "네이밍은 메소드 동작에 의한 결과 뿐만 아니라, 결과의 타입도 알게 하는게 좋다.”

이론으로 접했던 내용을 실제로 경험하고 나니 더욱 즐거웠다.

<br>

### 😃 객체에 메세지를 보내라
사실 3주가 지난 지금도 MVC 의 왕도를 파악하진 못했다. 
모델(도메인)을 어떻게 생각하고 구성 하느냐에 따라 모델-뷰-컨트롤러 각각이 짊어질 책임이 계속 달라졌다.
그러나 메소드를 쪼개면 쪼갤수록 모델-뷰-컨트롤러 간의 책임을 분배하기 용이해진다는 것 한 가지는 확실하게 느껴졌다.  
  
특히 포비(박재성 님)의 [목적의식 있는 연습을 통한 효과적인 학습](https://brunch.co.kr/@javajigi/8) 에 
첨부되어 있는 프리코스 1,2,3주차 피드백을 훔쳐(🤷‍♂️?)보던 중
**“객체를 직접 가져오지 말고 객체에 메세지를 보내라.”** 라는 내용을 읽고 나서, 
내가 구현한 컨트롤러가 모델 객체의 상태(멤버변수)에 직접 관여한다는 걸 깨닫고
해당 메소드를 도메인 객체 쪽으로 이동시켜 컨트롤러가 메세지를 보내기만 하도록 리팩토링을 진행했다.
그 덕분에 컨트롤러에게 몰려 있던 책임이 모델로 분배가 되는 효과를 볼 수 있었다.

<br>

1주차 미션을 마무리 한 후, '벽을 만져는 봤다’ 라는 느낌이 들었다.

> 함수(또는 메소드)가 한 가지 일만 하도록 최대한 작게 만들어라.

메소드를 최대한 쪼갠 것이 그런 느낌을 준 주역인 것 같았다.  
미션을 진행하면서 혼났던 설계 패턴과 TDD 모두 **“이래서 필요하다.” 라는 목적 없이 “좋다니까 일단 해보자.” 라는 생각으로 접근**한 것이 
문제였음을 느낀 후 이펙티브 자바 책을 덮어두고, 자바 기본서부터 다시 읽어나가기 시작했다.  
(그래서 포스팅을 시작한 것이 **Agile Java - 지름길로 빠르게 배울 수 있는 자바 프로그래밍(Jeff Langr)** 다!)

<br>

## 2주차 미션 - 자동차 경주 게임 🚗
2주차 자동차 경주 게임 미션은 미션 진행전에 자바 기본서를 어느정도 이해한 후라서 숫자 야구 게임보다 쉽게 접근 할 수 있었다. 
그러나 사용자 입력 예외처리에 지나치게 많은 시간을 소비해서 리팩토링 시간이 부족했던 점이 아쉽게 느껴진다. 
사용자 입력으로 인한 예외 상황은 어느정도 제한되어 있으므로, 미리 숙지해두면 더 많은 시간 확보가 가능해지지않을까 기대 중이다.

### 🤩 TDD 가 느껴진다!
자바 기본서로 **지름길로 빠르게 배울 수 있는 자바 프로그래밍(Jeff Langr)**을 선택하여 자연스럽게 TDD 시작 방법을 접하게 되었다. 
(책에서는 첫 장부터 TDD를 설명하기 시작한다.)  
특히 1주차 미션에서 느꼈던 아쉬움을 곧장 해소할 수 있었기 때문에 굉장히 즐겁고 의욕있게 책의 내용을 적용할 수 있었다.

> “처음부터 완벽한 메서드를 구상하고 테스트를 작성하는 것이 아니라, 원시적인 메서드를 작성해 테스트를 진행한 후 리팩토링 해나가는 것”

2주차 미션을 진행하면서 느낀 TDD의 핵심이었다.  

### 😥 뷰(View)에서 검증 -> 모델(도메인)에서 검증
1주차 미션과 더불어 2주차 미션에서도 사용자 입력값의 검증을 뷰(View)단계에서 진행시켰었다.
**'완벽한 값을 입력 받고 난 후에 로직을 수행시키자'** 라는 강박 때문이었다.  
그러나 검증이 완료된 문자열을 Car로 전달하는 컨트롤러 구현과정에서 실수로 Car에게 빈 문자열을 전달했고, 
아무 이름이 없는 Car들이 생성되는 결과를 경험했다. 즉, 이전의 검증이 아무런 효력이 없어진 것이다.  
테스트 단계에서 직접 문자열을 삽입했음에도 알아차리지 못한 문제를 구현 단계에 와서야 알게 된 것이다. 
프리코스 진행 내내 영영 모를 수도 있었는데 참 운이 좋았다고 생각한다.  
  
어쨌거나 이 사건 덕분에 뷰에서 진행했던 검증을 각 모델 객체의 생성자 쪽으로 이동시켰다. 
이 덕분에 뷰마다 중복되었던 검증이 줄어듦은 물론, 자연스럽게 객체값 검증 관련 상수들이 객체 내부로 들어와 
객체의 값이 어떤 기준을 갖고 생성되는지 가독성이 올라감을 느낄 수 있었다.

### 확장성을 고려하자
1주차 미션에서 static 개념을 제대로 이해하지 못한 상태로 구현을 진행했습니다.
‘어차피 유저가 사용할 객체 하나, 컴퓨터가 사용할 객체 하나라면 static으로 막아버리는게 낫지 않을까?!’
‘오, static 을 이용하니 컨트롤러에서 new로 생성할 필요 없이 깔끔해보이게 짤 수 있구나~’
혼자 생각하기엔 그럴듯 했지만, 기본서를 읽으며 배운 내용을 토대로 다시 제 코드를 살펴보니 많은 규칙을 위배하고 있었습니다.
----------------------------------------------------------------------------------------------------------
1. 객체에 상태(변수)가 없을 경우 객체의 동작(메서드)은 static
2. 객체의 인스턴스 변수와 클래스 변수는 공개하지 않는게 좋다. (메서드로 감싸라)
3. 멤버에서 클래스 변수를 조작하게 하지 말고 별도의 클래스 메서드를 제공해라
--------------------------------------------------------------------------------------------------
결과적으로 다른 사람이 보기에 확장성은 전혀 고려하지 않고, 클래스 변수를 모조리 공개한 위험한 코드 였습니다.
같은 잘못을 반복하지 않기 위해 이번 미션을 진행하면서는 위 3가지 규칙을 계속해서 읊으면서 단순한 상태나 동작 하나라도 클래스로 쪼개려고 노력해보았습니다.
Car 객체의 경우에도, 0~9 사이의 랜덤한 값 범위에 따라 전진이 언제든지 다른 로직으로 변경될 수 있다고 생각하여
GasTank라는 새로운 객체를 만들어 이동 진행과 이동 결정을 나누었고,
Lap 객체 또한 레이싱의 종료 기준이 언제든지 바뀔 수 있기 때문에 이를 나누어 레이싱 진행/종료를 결정시켰습니다.

### 객체끼리는 서로 꼭 필요한 정보만 공유시키자
초기 설계에선 컨트롤러에 해당하는 클래스에서 Car 생성자와 GasTank 생성자를 모두 호출해서 Car객체를 만들어냈습니다.
그러나 메서드를 최대한 쪼개는 리팩토링 과정에서 “컨트롤러가 Car 내부의 GasTank를 알 필요가 있나?” 라는 의문이 생겼습니다.
Car 생성자 내부에서 GasTank 생성자를 호출하도록 하니, 컨트롤러는 GasTank의 존재를 모름에도 정상적으로 수행되었습니다.
이러한 현상이 추후 도메인 확장이나 교체 과정에서도 유지보수성을 높여줄 것이라는게 느껴졌습니다!

### 멤버변수 쳐내기
컨트롤러를 리팩토링하는 과정에서 "우승자를 기록하는 멤버변수를 지워버릴까?" 라는 고민이 생겼습니다.
당장 소수의 메서드 작성에 편리함을 제공해주었지만, 우승자 멤버변수의 속성이 변화할 때마다 우승자 목록을 사용하는 모든 메서드를 수정해야하는 복잡함이 뒤따랐습니다.
또한 상위 클래스가 아는 것(멤버변수)이 많아질수록 하위 객체에 메세지를 보내기보다 하위 객체의 값을 끌어와 자신에게 저장하는 식으로 '객체에 메세지를 보내라'가 지키기 어려워졌습니다.
이 때문에 필수라고 생각되지 않는 (다른 멤버변수를 통해 추출할 수 있는) 멤버변수를 과감하게 쳐냈습니다!
멤버변수를 쳐내고 나니 일급 컬렉션 개념도 적용이 가능할 것 같아 시도해보았지만, 제대로 적용한 것인지는 아직 확신이 생기지 않았습니다... 더 복잡한 구조에서 경험해봐야할 것 같습니다.

이번 자동차 경주 게임 미션을 진행하면서 가장 문제가 되었던 것은 조급함과 욕심이었습니다.
"정적 팩터리 메서드를 적용해볼거야.", "일급 컬렉션을 적용해볼거야.", "사용자 입력값 검증을 뷰(View)에서 도메인(Domain)으로 옮기자"
하나씩 충족 시켜도 낯선 개념들을 모두 충족 시키는 코드를 작성하는 건 쉽지 않았습니다.
(이 때문에 커밋 내역을 되돌리고 로컬 프로젝트를 모두 삭제하고 다시 클론 하는 등 깃 사용법은 많이 익히게 되었지만요... 😂)
결국 돌고 돌아, 하나씩 이해하고 경험을 쌓은 뒤에 다음 개념을 접하자 라고 마음을 먹은 후에야 리팩토링이 진행되었습니다.
다음 미션에는 조급함과 욕심을 버리고 한 단계씩 확실하게 리팩토링 해나갈 계획입니다!
포부로 마무리 지으면서 2주차 미션 제출하겠습니다! 



아쉬운 점으로는, 구현 초반 단계에선 TDD를 지켰으나 후반에 이를수록 TDD를 생략하고 구현을 진행했다.
마무리 단계까지 TDD를 지킬 수 있도록 더 노력해야할 것 같습니다.
## 🔥 불타올랐던 3주

