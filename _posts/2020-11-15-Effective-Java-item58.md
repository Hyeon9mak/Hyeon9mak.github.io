---
title: "[Effective-Java] ì•„ì´í…œ 58. ì „í†µì ì¸ for ë¬¸ë³´ë‹¤ëŠ” for-each ë¬¸ì„ ì‚¬ìš©í•˜ë¼"
date: 2020-11-15 17:29:38
categories:
    - effective-java
tags:
    - ì´í™í‹°ë¸Œìë°”
    - effective-java
    - ìŠ¤í„°ë””
    - ì•„ì´í…œ6
    - Java
    - ìë°”
toc: true
toc_sticky: true
toc_label: "ì•„ì´í…œ 58. ì „í†µì ì¸ for ë¬¸ë³´ë‹¤ëŠ” for-each ë¬¸ì„ ì‚¬ìš©í•˜ë¼"
---
ì „ì²´ì ì¸ ìŠ¤í„°ë”” ë‚´ìš©ì€ [JunHyeok96/effective-java](https://github.com/JunHyeok96/effective-java)ì—ì„œ í™•ì¸ ê°€ëŠ¥! 

## while ë¬¸ë³´ë‹¤ëŠ” ë‚«ì§€ë§Œ, ì¡°ê¸ˆì€ ì•„ì‰¬ìš´ for ë¬¸
```java
// ì»¬ë ‰ì…˜ ìˆœíšŒí•˜ê¸° 1 - iterator(ë°˜ë³µì) ì‚¬ìš©
for(Iterator<element> i = c.iterator(); i.hasNext();){
    Element e = i.next();
    ... // eë¡œ ë¬´ì–¸ê°€ë¥¼ í•œë‹¤.
}
// ì»¬ë ‰ì…˜ ìˆœíšŒí•˜ê¸° 2 - int i(ì¸ë±ìŠ¤ ë³€ìˆ˜) ì‚¬ìš©
for(int i = 0; i < a.length; i++){
    ... // a[i]ë¡œ ë¬´ì–¸ê°€ë¥¼ í•œë‹¤.
}
```
ë‘ ì½”ë“œ ëª¨ë‘ while ë¬¸ë³´ë‹¤ëŠ” ë‚«ì§€ë§Œ ë‹¨ì ì´ ì—¬ëŸ¿ ì¡´ì¬í•œë‹¤. ì±…ì—ì„œ ì†Œê°œëœ ë‹¨ì ì€ ì´ 3ê°€ì§€ë‹¤. 

- ë°˜ë³µìì™€ ì¸ë±ìŠ¤ ë³€ìˆ˜ ëª¨ë‘ ì½”ë“œë¥¼ ì§€ì €ë¶„í•˜ê²Œ ë§Œë“ ë‹¤.
    - ì‚¬ì‹¤ ìš°ë¦¬ì—ê²Œ í•„ìš”í•œ ê±´ ì›ì†Œ ë¿ì´ë‹¤.
- ì“°ì´ëŠ” ë©”ì„œë“œì™€ ë³€ìˆ˜ê°€ ëŠ˜ì–´ë‚˜ë©´, ì˜¤ë¥˜ ë°œìƒ í™•ë¥ ì´ ë†’ì•„ì§„ë‹¤.
    - íƒ€ì´í•‘ ì‹¤ìˆ˜ ë“±. ì»´íŒŒì¼ëŸ¬ê°€ ì—ëŸ¬ë¥¼ ì¡ì•„ì¤€ë‹¤ëŠ” ë³´ì¥ë„ ì—†ë‹¤.
- ì»¬ë ‰ì…˜ì´ëƒ ë°°ì—´ì´ëƒì— ë”°ë¼ ì½”ë“œ í˜•íƒœê°€ ìƒë‹¹íˆ ë‹¬ë¦¬ì§„ë‹¤.
    - ì›ì†Œë§ˆë‹¤ ë°˜ë³µë§Œ í•´ì£¼ë©´ ë˜ëŠ”ë°, ì½”ë“œë¥¼ í•œ ë²ˆì”© ì¬í•´ì„ í•´ì•¼í•œë‹¤.

ë‹¤í–‰ì¸ê²ƒì€, 3ê°€ì§€ ë‹¨ì  ëª¨ë‘ for-eachë¬¸ì„ ì‚¬ìš©í•˜ë©´ ë§ë”í•˜ê²Œ í•´ê²°ëœë‹¤!

## í–¥ìƒëœ for ë¬¸ (enhanced for statement)
```java
for(Element e : elements){
    ...// eë¡œ ë¬´ì–¸ê°€ë¥¼ í•œë‹¤.
}

// ":"ëŠ” "ì•ˆì˜(in)"ì´ë¼ê³  ì½ìœ¼ë©´ ëœë‹¤.
// "elements ì•ˆì˜(in) ê° ì›ì†Œ eì— ëŒ€í•´"
```
ë°˜ë³µìì™€ ì¸ë±ìŠ¤ ë³€ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šìœ¼ë‹ˆ ì½”ë“œê°€ ê¹”ë”í•´ì§€ê³ , ì˜¤ë¥˜ ë°œìƒ í™•ë¥ ë„ ë‚®ì•„ì§„ë‹¤. 
ì»¬ë ‰ì…˜ê³¼ ë°°ì—´ ëª¨ë‘ ê°™ì€ ê´€ìš©êµ¬ë¥¼ ì‚¬ìš©í•˜ê¸° ë•Œë¬¸ì—, ì½”ë“œë¥¼ ì¬í•´ì„ í•  í•„ìš”ë„ ì—†ë‹¤. 
for-each ë¬¸ì€ ì‚¬ëŒì´ ì†ìœ¼ë¡œ ìµœì í™”í•œ ê²ƒê³¼ ì‚¬ì‹¤ìƒ ê°™ê¸° ë•Œë¬¸ì—, ì†ë„ë„ ê·¸ëŒ€ë¡œë‹¤.  
  
## for ğŸ†š for-each
ì±…ì—ì„œëŠ” ì¤‘ì²© ë°˜ë³µë¬¸ì„ ë§Œë“ ë‹¤ë©´ for-eachì˜ ì¥ì ì´ ë”ìš± ì»¤ì§„ë‹¤ê³  í•˜ëŠ”ë°, 
ì‚¬ì‹¤ for-eachì˜ ì¥ì ì´ ì»¤ì§„ë‹¤ê¸°ë³´ë‹¤ **'ê¸°ì¡´ for ë¬¸ì˜ ë‹¨ì ì´ ë¶€ê°ë˜ì–´ ë³´ì¸ë‹¤'**ëŠ” í‘œí˜„ì´ ë§ì„ ê²ƒ ê°™ë‹¤.  
ì•„ë˜ for ë¬¸ì„ ì´ìš©í•´ ì‘ì„±ëœ ì¤‘ì²© ë°˜ë³µë¬¸ ì˜ˆì‹œë¥¼ ì‚´í´ë³´ì.
```java
enum Suit {CLUB, DIAMOND, HEART, SPADE}
enum Rank {ACE, DEUCE, THREE, FOUR, FIVE, SIX, SEVEN, EIGHT,
            NINE, TEN, JACK, QUEEN, KING }
...
static Collection<Suit> suits = Arrays.asList(Suit.values());
static Collection<Rank> ranks = Arrays.asList(Rank.values());

List<Card> deck = new ArrayList<>();
for (Iterator<Suit> i = suits.iterator(); i.hasNext(); )
    for (Iterator<Rank> j = ranks.iterator(); j.hasNext(); )
        deck.add(new Card(i.next(), j.next()));
```
í•˜ë‚˜ì˜ ì¹´ë“œ ë±ì„ ìƒì„±í•˜ëŠ” ì •ìƒì ì¸ ì¤‘ì²© ë°˜ë³µë¬¸ì²˜ëŸ¼ ë³´ì´ì§€ë§Œ ì‹¤ì œë¡œëŠ” ì›í•˜ëŠ” ëŒ€ë¡œ ë™ì‘í•˜ì§€ ì•ŠëŠ”ë‹¤. 
ì±…ì—ì„œ ë²„ê·¸ë¥¼ ì°¾ì•„ë³´ë¼ê¸¸ë ˆ ë„ì „í–ˆëŠ”ë°, ì†”ì§íˆ ì‹¤íŒ¨í–ˆë‹¤. 

> ë²„ê·¸ë¥¼ ì°¾ì§€ ëª»í•˜ê² ë”ë¼ë„ ìŠ¬í¼í•˜ì§€ ë§ì. ìˆ™ë ¨ëœ í”„ë¡œê·¸ë˜ë¨¸ì¡°ì°¨ ì°¾ê¸°ê°€ ì‰½ì§€ ì•Šì„ ê²ƒì´ë‹¤.

ë‚˜ë§Œ ëª» ì°¾ëŠ”ê²Œ ì•„ë‹ˆì—ˆë‚˜ë³´ë‹¤. ë§ˆìŒì— ìœ„ì•ˆì„ ì–»ì—ˆë‹¤.  
ìœ„ ì½”ë“œì—ì„œ ë¬¸ì œì§€ì ì€ ê°€ì¥ ë§ˆì§€ë§‰ ë¼ì¸ì˜ **i.next()**ê°€ ëœë‹¤. iëŠ” suits ì»¬ë ‰ì…˜ì˜ ë°˜ë³µìë¡œ 
suitì˜ forë¬¸ ë°˜ë³µë§ˆë‹¤ í˜¸ì¶œë˜ì–´ì•¼ í•˜ëŠ”ë°, ranksì˜ forë¬¸ ë°˜ë³µì— ì†í•´ì„œ í•¨ê»˜ ë‹¤ìŒ ì›ì†Œë¡œ ë„˜ì–´ê°€ê³  ìˆë‹¤. 
ê·¸ë˜ì„œ ì½”ë“œë¥¼ ì‹¤í–‰ì‹œí‚¤ë©´ ì›ì†Œê°€ ë‹¤ ë–¨ì–´ì§„ suits forë¬¸ì´ **NoSuchElementException**ì„ ë˜ì§„ë‹¤.  
  
ìœ„ ì˜ˆì‹œì˜ ê²½ìš° ê·¸ë‚˜ë§ˆ Exceptionì´ ë˜ì ¸ì§€ì§€ë§Œ, ë§Œì¼ suitsì˜ ì›ì†Œ ê°œìˆ˜ê°€ ranks ì›ì†Œ ê°œìˆ˜ì˜ ë°°ìˆ˜ì˜€ë‹¤ë©´ 
ì´ ë°˜ë³µë¬¸ì€ Exceptionì„ ë˜ì§€ì§€ ì•Šê³  ì •ìƒì ìœ¼ë¡œ ìˆ˜í–‰ëœë‹¤. ë¬¼ë¡ , ìš°ë¦¬ê°€ ì›í•˜ëŠ” ê²°ê³¼ë¥¼ ë‚´ì§€ ì•Šì€ ì±„ë¡œ.  
í•´ë‹¹ ì˜ˆì‹œë¥¼ ë°”ë¡œ ì•„ë˜ ì½”ë“œë¥¼ í†µí•´ ì‚´í´ë³´ì.
```java
enum Face { ONE, TWO, THREE, FOUR, FIVE, SIX }
...
Collection<Face> faces = EnumSet.allOf(Face.class);

for (Iterator<Face> i = faces.iterator(); i.hasNext(); )
    for (Iterator<face> j = faces.iterator(); j.hasNext(); )
        System.out.println(i.next() + " " + j.next());
```

```java
for (Iterator <Suit> i = suits.iterator(); i.hasNext(); ){
    Suit suit = i.next();
    for (Iterator<Rank> j = ranks.iterator(); j.hasNext(); )
        deck.add(new Card(suit, j.next()));
}
```

```java
for (Suit suit : suits)
    for (Rank rank : ranks)
        deck.add(new Card(suit, rank));
```


## for-each ë¬¸ì„ ì‚¬ìš©í•  ìˆ˜ ì—†ëŠ” ìƒí™©
```java
public interface Iterable<E>{
    // ì´ ê°ì²´ì˜ ì›ì†Œë“¤ì„ ìˆœíšŒí•˜ëŠ” ë°˜ë³µìë¥¼ ë°˜í™˜í•œë‹¤.
    Iterator<E> iterator();
}
```

ì „í†µì ì¸ for ë¬¸ê³¼ ë¹„êµí–ˆì„ ë•Œ for-each ë¬¸ì€ ëª…ë£Œí•˜ê³ , ìœ ì—°í•˜ê³ , ë²„ê·¸ë¥¼ ì˜ˆë°©í•´ì¤€ë‹¤. 
ì„±ëŠ¥ ì €í•˜ë„ ì—†ë‹¤. ê°€ëŠ¥í•œ ëª¨ë“  ê³³ì—ì„œ for ë¬´ì´ ì•„ë‹Œ for-each ë¬¸ì„ ì‚¬ìš©í•˜ì.