---
title: "[Effective-Java] ì•„ì´í…œ 6. ë¶ˆí•„ìš”í•œ ê°ì²´ ìƒì„±ì„ í”¼í•˜ë¼"
date: 2020-11-07 23:05:38
categories:
    - effective-java
tags:
    - ì´íŽ™í‹°ë¸Œìžë°”
    - effective-java
    - ìŠ¤í„°ë””
    - ì•„ì´í…œ6
    - Java
    - ìžë°”
toc: true
toc_sticky: true
toc_label: "ì•„ì´í…œ 6. ë¶ˆí•„ìš”í•œ ê°ì²´ ìƒì„±ì„ í”¼í•˜ë¼"
---
ì „ì²´ì ì¸ ìŠ¤í„°ë”” ë‚´ìš©ì€ [JunHyeok96/effective-java](https://github.com/JunHyeok96/effective-java)ì—ì„œ í™•ì¸ ê°€ëŠ¥!  

## ðŸ¤” ì•„ì´í…œ 6ì„ ì½ê¸° ì „ì— ì§šê³  ë„˜ì–´ê°€ì•¼í•  ì 

> ì´ë²ˆ ì•„ì´í…œì€ ë°©ì–´ì  ë³µì‚¬(defensive copy)ë¥¼ ë‹¤ë£¨ëŠ” ì•„ì´í…œ 50ê³¼ ëŒ€ì¡°ì ì´ë‹¤.

ì±…ì˜ ì €ìžëŠ” ì•„ì´í…œ 6ì˜ ê°€ìž¥ ë§ˆì§€ë§‰ ë¶€ë¶„ì—, ìœ„ì™€ ê°™ì€ ì„¤ëª…ì„ ë§ë¶™ì˜€ë‹¤.
í•œ ì±…ì—ì„œ ì„œë¡œ ëŒ€ì¡°ë˜ëŠ” ì´ì•¼ê¸°ë¥¼ êµ³ì´ ë‹¤ë£¨ëŠ” ì´ìœ ëŠ” ë¬´ì—‡ì¼ê¹Œ?  
ìš°ì„  ë°©ì–´ì  ë³µì‚¬(ì•„ì´í…œ 50)ê³¼ ê°ì²´ ìž¬í™œìš©(ì•„ì´í…œ 6)ì˜ ë¬¸ì œì ì„ ë¹„êµí•´ë³´ë©´  
**ì•„ì´í…œ 50ì˜ ë¬¸ì œì ì€ ê·¸ì € ì½”ë“œ í˜•íƒœì™€ ì„±ëŠ¥ì—ë§Œ ì˜í–¥ì„ ì£¼ëŠ” ìˆ˜ì¤€**ì´ê³ ,  
**ì•„ì´í…œ 6ì˜ ë¬¸ì œì ì€ ì–¸ì œ í„°ì§ˆì§€ ëª¨ë¥´ëŠ” ë²„ê·¸ì™€ ë³´ì•ˆ êµ¬ë©ì´ ìƒê¸°ëŠ” ìˆ˜ì¤€**ì´ë‹¤.  
  
ì•„ì´í…œ 50ê³¼ 6 ëª¨ë‘ ìž¥ë‹¨ì´ ìžˆì§€ë§Œ, ì¼ë°˜ì ìœ¼ë¡œ ì•„ì´í…œ 50ì„ ë”°ë¥´ëŠ” ê²ƒì´ í›¨ì”¬ ì•ˆì „í•˜ë‹¤ëŠ” ê²ƒì„ ì—¼ë‘ì— ë‘”ì±„ë¡œ 
ì•„ì´í…œ 6ì€ ê°€ë³ê²Œ ì´í•´í•˜ê³  ë„˜ì–´ê°€ëŠ” ê²ƒì´ ì¢‹ê² ë‹¤.  

## ðŸ’¡ ì ˆëŒ€ í•˜ì§€ ë§ì•„ì•¼í•˜ëŠ” String ê°ì²´ ìƒì„± íŒ¨í„´
```java
    String s = new String("bikini"); // ë¬¸ìžì—´ new ìƒì„±ìž ì‚¬ìš© ë°©ì‹
```
ì±…ì—ì„  ìœ„ì™€ ê°™ì€ ê°ì²´ ìƒì„±ì„ ì €ì–´ì–´ì–¼ëŒ€ í•´ì„  ì•ˆëœë‹¤ê³  í•œë‹¤.
ì™œ ìœ„ ê°™ì´ ê°ì²´ë¥¼ ìƒì„±í•˜ë©´ ì•ˆëœë‹¤ê³  í•˜ëŠ” ê²ƒì¼ê¹Œ? ì´ìœ ëŠ” í¬ê²Œ ë‘ ê°€ì§€ê°€ ìžˆë‹¤.

---

### ì´ìœ  1. ìƒì„±ìžì˜ ë§¤ê°œë³€ìˆ˜ë¡œ ë„˜ê²¨ì§„ "bikini"ì™€, ìƒì„±ëœ ê°ì²´sì˜ ê¸°ëŠ¥ì´ ì™„ì „ížˆ ë™ì¼í•˜ë‹¤.

![image](https://user-images.githubusercontent.com/37354145/98439869-28b88a80-2138-11eb-9af8-e02c7dbe6f74.png){: .align-center}
Java ê´€ë ¨ ì–´ì‹œìŠ¤íŠ¸ ê¸°ëŠ¥ì„ ì œê³µí•˜ëŠ” IDEì—ì„œ ìœ„ì™€ ê°™ì€ ì½”ë“œë¥¼ ìž‘ì„±í•˜ë©´ ë¶€ì ì ˆ(ë¶ˆí•„ìš”)í•˜ë‹¤ëŠ” ì•Œë¦¼ì´ ëœ° ì •ë„.
  

### ì´ìœ  2. ë§Œì¼ í•´ë‹¹ ì½”ë“œê°€ ë£¨í”„ì•ˆì— ì†í•  ê²½ìš°, ë£¨í”„ íšŸìˆ˜ë§Œí¼ ì¸ìŠ¤í„´ìŠ¤ê°€ ìƒì„±ëœë‹¤.

![image](https://user-images.githubusercontent.com/37354145/98439872-2bb37b00-2138-11eb-9c99-53d3e9a34100.png){: .align-center}
(String ê°ì²´ëŠ” ì£¼ì†Œ ì¶œë ¥ì´ ì–´ë ¤ì›Œì„œ, ë”°ë¡œ ê°ì²´ë¥¼ ë§Œë“¤ì–´ì„œ í…ŒìŠ¤íŠ¸ë¥¼ ì§„í–‰í–ˆë‹¤.)  
ë£¨í”„ê°€ ë°˜ë³µë  ë•Œë§ˆë‹¤ ì¸ìŠ¤í„´ìŠ¤ê°€ ìƒˆë¡œ ìƒì„±ëœë‹¤ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìžˆë‹¤.  
  
---
### ê·¸ëŸ¼ ë£¨í”„ ì†ì—ì„œë„ ë¶ˆí•„ìš”í•œ ê°ì²´ ìƒì„±ì„ ë§‰ëŠ” ë°©ì‹ì€?
```java
    String s = "bikini";  // ë¬¸ìžì—´ ë¦¬í„°ëŸ´ ìƒì„± ë°©ì‹
```
ì €ìžê°€ ê¶Œìž¥í•˜ëŠ” í˜•íƒœ. ì´ë¯¸ ìƒì„±ëœ ê°ì²´(ì¸ìŠ¤í„´ìŠ¤)ë¥¼ ìž¬í™œìš© í•˜ë¼ëŠ” ëœ»ì´ë‹¤.  
í•˜ë‚˜ì˜ String ì¸ìŠ¤í„´ìŠ¤ë§Œ ì‚¬ìš©í•˜ëŠ” ê²ƒì„ ë³´ìž¥í•  ìˆ˜ ìžˆë‹¤.  

### ðŸ’¡ ì•„ì´í…œ 1ì„ ìž˜ í™œìš©í•˜ë©´ ê°ì²´ ìƒì„± íŒ¨í„´ì„ ê³ ë¯¼ í•  í•„ìš”ê°€ ì—†ë‹¤.
ì•„ì´í…œ 1
  
[ìƒì„±ìž ëŒ€ì‹  ì •ì  íŒ©í„°ë¦¬ ë§¤ì„œë“œ](https://hyeon9mak.github.io/effective-java/Effective-Java-item1/)ë¥¼ 
ì œê³µí•˜ëŠ” ë¶ˆë³€ í´ëž˜ìŠ¤ì—ì„œëŠ” ë¶ˆí•„ìš”í•œ ê°ì²´ ìƒì„±ì„ í”¼í•  ìˆ˜ ìžˆë‹¤. ê°€ë³€ í´ëž˜ìŠ¤ì—¬ë„ ì‚¬ìš© ë„ì¤‘ì— ë³€í•˜ì§€ ì•ŠìŒì„ ì•Œê³  ìžˆë‹¤ë©´? 
ë‹¹ì—°ížˆ ì´ì—­ì‹œë„ ë¶ˆí•„ìš”í•œ ê°ì²´ ìƒì„±ì„ í”¼í•  ìˆ˜ ìžˆë‹¤.

> ì´ë²ˆ ì•„ì´í…œì„ "ê°ì²´ ìƒì„±ì€ ë¹„ì‹¸ë‹ˆ í”¼í•´ì•¼í•œë‹¤"ë¡œ ì˜¤í•´í•˜ë©´ ì•ˆ ëœë‹¤. 
> íŠ¹ížˆë‚˜ ìš”ì¦˜ì˜ JVMì€ ì„±ëŠ¥ì´ ì¢‹ì•„ ìž‘ì€ ê°ì²´ë¥¼ ìƒì„±í•˜ê³  íšŒìˆ˜í•˜ëŠ”ë° í° ë¶€ë‹´ì´ ì—†ë‹¤. 
> í”„ë¡œê·¸ëž¨ì˜ ëª…í™•ì„±, ê°„ê²°ì„±, ê¸°ëŠ¥ì„ ìœ„í•´ ê°ì²´ë¥¼ ì¶”ê°€ ìƒì„±í•˜ëŠ” ê²ƒì€ ì¼ë°˜ì ìœ¼ë¡œ ì¢‹ì€ ì¼ì´ë‹¤.  
>  
> ì¶”ê°€ ìƒì„± ë¹„ìš©ì´ í° ê°ì²´ê°€ ì•„ë‹ˆë¼ë©´, ì–´ì¤ìž–ì€ í’€(íŒ¨í„´)ì„ ë§Œë“¤ì§€ ë§ˆë¼. 
> ì¼ë°˜ì ìœ¼ë¡œ ìžì²´ì ìœ¼ë¡œ ë§Œë“  í’€(íŒ¨í„´)ì€ ì½”ë“œë¥¼ í—·ê°ˆë¦¬ê²Œ ë§Œë“¤ê³ , ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ì„ ëŠ˜ë¦¬ë©° ì„±ëŠ¥ì„ ë–¨ì–´ëœ¨ë¦°ë‹¤. 
> ì‹¬ì§€ì–´ ìš”ì¦˜ JVM GCëŠ” ìž˜ëª»ëœ í’€(íŒ¨í„´)ì´ ì ìš©ëœ ì½”ë“œë³´ë‹¤ í›¨ì”¬ ë” ë¹ ë¥´ë‹¤.  
>  
